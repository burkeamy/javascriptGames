<!DOCTYPE html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ghost Maze game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body div style = "background-color: black">
    <div id = "mazeHolder" style = "position: abslolute; top: 0; left: 0;"></div>
    <img id = "player" style = "position: absolute; width: 50px; left: 0;
        webkit-transition: all 0.2s" src = "ghost.png">
    <section style = "color: white; float:right;">
        <h1>Ghost Maze Game</h1>
        <p>use the arrow keys to move the ghost through the maze</p>
    </section>
    <style>
        div{position: absolute; background-color: yellow; width: 50px; height: 50px;}
    </style>
</body>
<script>
    const mazeData = [
        [1,1,1,1,1,1,1,1],
        [0,0,1,1,0,0,0,1],
        [1,0,0,0,0,1,1,1],
        [1,0,1,1,0,1,0,1],
        [1,0,1,1,0,0,0,1],
        [1,0,0,0,0,1,0,0],
        [1,1,1,1,1,1,1,1]
        ];

    onkeydown = handleKeys;
    onreday = drawMaze();
    let px = 0, py = 1;
    function setLeft(id,x) {
        document.getElementById(id).style.left=x+"px";
    }
    function setTop(id,y) {
        document.getElementById(id).style.top=y+"px";
    }
    function drawMaze() {
        for(let y = 0; y < 7; y++) {
            for(let x = 0; x < 8; x++){
                const newOb = document.createElement('div');
                document.getElementById("mazeHolder").appendChild(newOb);
                const divId = Math.random();
                newOb.setAttribute('id',divId);
                setLeft(divId, 50*x);
                setTop(divId,50*y);
                if(mazeData[y][x]==0){
                    document.getElementById(divId).style.backgroundColor="green";
                }
            }
        }
    }
    function handleKeys(e) {
        if((e.keyCode == 37)&&mazeData[py][px-1]==0) {
            px--;
        }
        if((e.keyCode==39)&&mazeData[py][px+1]==0) {
            px++;
        }
        if((e.keyCode==39)&&mazeData[py-1][px]==0) {
            py--;
        }
        if((e.keyCode==40)&&mazeData[py+1][px]==0) {
            py++;
        }
        setLeft("player", px*50);
        setTop("player", py*50);
        if(px == 7 && py == 5) {
            alert("Well done!");
        }
    }
</script>
</html>